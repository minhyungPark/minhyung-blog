---
title: 코틀린이란? (draft)
date: "2020-03-20T16:15:00.000Z"
layout: post
draft: false
path: "/posts/kotlin-intro"
category: "kotlin"
tags:
  - "kotlin"
  - "language"
description: "코틀린에 대한 간략한 소개"
---

> Kotlin in action 책의 내용을 참고하였습니다.

## 코틀린(Kotlin)

위키백과에서의 코틀린에 대한 설명은 다음과 같다.

![](./kotlin-wiki.png)

즉, 자바 플랫폼에서 돌아가는 새로운 프로그래밍 언어다. 코틀린에서 중요시 하는 것은 간결하고 실용적이며, 자바 코드와의 **상호운용성**(interoperability)이다. 따라서, 현재 자바가 사용 중인 곳이라면 거의 대부분 코틀린을 활용할 수 있다.

서버 개발, 안드로이드 앱 개발 등의 분야에 서 코틀린을 쓸 수 있다.

코틀린의 간략한 예제를 살펴보자.

```kotlin
data class Person(val name: String,			// 데이터 클래스
                  val age: Int? = null)		// 널이 될 수 있는 타입(Int?)과 디폴트 값

fun main(args: Array<String>) {							// main 함수
  val persons = listOf(Person("영희"),
                       Person("철수", age = 29))
  
  val oldest = persons.maxBy { it.age ?: 0 }				// 람다 식과 엘비스 연산자
  println("나이가 가장 많은 사람: $oldest")				// 문자열 템플릿
}

// 결과 : 나이가 가장 많은 사람: Person(name=철수, age=29)        <--- toString 자동 생성
```

위 코드는 클래스의 선언과 사용하는 코드입니다.  `name` 과 `age` 라는 두개의 프로퍼티를 가진 클래스, 자동으로 toString을 오버라이딩하는 데이터 클래스, 람다 식을 인자로 넘기고 객체를 생성하는 등의 간략한 코드입니다.

이에 대한 자세한 설명은 이어지는 포스팅에서 알아볼수 있습니다.



## 코틀린의 주요 특성

코틀린의 핵심 특성을 자세히 알아봅시다.

### 대상 플랫폼

코틀린의 주목적은 현재 자바가 사용되고 있는 모든 용도에 적합하면서도 더 간결하고 생산적이며 안전한 대체 언어를 제공하는 것입니다.

코틀린을 활용할 수 있는 가장 일반적인 영역은 다음과 같습니다.

- 서버상의 코드(특히 웹 어플리케이션의 백엔드)
- 안드로이드 디바이스에서 실행되는 모바일 어플리케이션

이 외에도 코틀린을 적용할 수 있는 분야는 광범위합니다.

### 정적 타입 지정 언어

자바와 마찬가지로 코틀린도 **정적 타입(statically typed)** 지정 언어입니다. 정적 타입 지정이라는 말은 모든 프로그램 구성 요소의 타입을 컴파일 시점에 알 수 있고 프로그램 안에서 객체의 필드나 메소드를 사용할 때마다 컴파일러가 타입을 검증해준다는 뜻입니다.

**정적 타입 지정의 장점**

- **성능**
  - 실행 시점에 어떤 메소드를 호출할지 알아내는 과정이 필요 없으므로 메소드 호출이 더 빠르다.
- **신뢰성**
  - 컴파일러가 프로그램의 정확성을 검증하기 때문에 실행시 프로그램이 오류로 중단될 가능성이 더 적어진다.
- **유지 보수성**
  - 코드에서 다루는 객체가 어떤 차입에 속하는지 알 수 있기 때문에 처음 보는 코드를 다룰 때도 더 쉽다.
- **도구 지원**
  - 정적 타입 지정을 활용하면 더 안전하게 리팩토링할 수 있고, 도구는 더 정확한 코드 완성 기능을 제공할 수 있으며, IDE의 다른 지원 기능도 더 잘 만들 수 있다.

또한 코틀린은 타추론을 지원하므로 정적 타입 지정 언어에서 프로그래머가 직접 타입을 선언해야함에 따라 생기는 불편함이 사라집니다.

중요한 특성은 코틀린이 **널이 될 수 있는 타입(nullable type)** 을  지원한다는 점입니다. 널이 될 수 있는 타입을 지원함에 따라 컴파일 시점에 NPE(Null Pointer Exception)가 발생할 수 있는지 여부를 검사할 수 있어서 좀 더 프로그램의 신뢰성을 높일 수 있습니다.



### 함수형 프로그래밍과 객체지향 프로그래밍

자바 개발자라면 객체지향 프로그래밍의 핵심 개념을 잘 이해하고 있을 것이다. 그에 반해 함수형 프로그래밍은 새로운 개념일 수 있다. 함수형 프로그래밍의 핵심 개념은 다음과 같다.

**함수형 프로그래밍의 핵심 개념**

- **일급 시민(first-class)인 함수** 함수를 일반 값처럼 다룰 수 있습니다. 함수를 변수에 저장할 수 있고, 함수를 인자로 다른 함수에 전달할 수 있으며, 함수에서 새로운 함수를 만들어서 반환할 수 있습니다.
- **불변성** 함수형프로그래밍에서는 일단 만들어 지고 나면 내부 상태가 절대로 바뀌지 않는 불변 객체를 사용해 프로그램을 작성합니다.
- **부수 효과(side-effect) 없음**  함수형 프로그래밍에서는 입력이 같으면 항상 같은 출력을 내놓고 다른 객체의 상태를 변경하지 않으며, 횜수 외부나 다른 바깥 환경과 상호작용하지 않는 순수 함수를 사용합니다.

**함수형 스타일의 장점**

- 간결성

  - 함수를 값처럼 활용할 수 있으며 더 강력한 추상화를 할 수 있고 강력한 추상화를 사용해 코드 중복을 막을 수 있다.

  - 비슷한 작업을 수행하는(일부 세부사항에서 차이가 나는) 두개의 코드 조각이 있을 때 공통부분을 따로 함수로 뽑아내고 다른 세부 사항을 인자로 전달할 수 있다.

  - ```kotlin
    fun findAlice() = findPerson { it.name == "Alice" }
    fun findBob() = findPerson { it.name == "Bob" }
    ```

- 다중 스레드 환경의 안정성 (thread-safe)

  - 불변 데이터 구조를 사용하고 순수 함수를 그 데이터 구조에 적용한다면 다중 스레드 환경에서 같은 데이터를 여러 스레드가 변경할 수 없다.   -- 복잡한 동기화를 적용하지 않아도 된다.

- 테스트하기 쉽다.

  - 부수 효과가 있는 함수는 그 함수를 실행할 때 필요한 전체 환경을 구성하느 준비 코드가 필요. but, 순수 함수는 독립적으로 테스트 가능

자바에서도 함수형 프로그래밍을 적용할 수 있지만, java 8 이전의 자바에는 함수형 프로그래밍을 지원할 수 있는 기능이 거의 없었다.

코틀린은 처음 부터 함수형 프로그래밍을 풍부하게 지원한다.

- 함수 타입을 지원함에 따라 어떤 함수가 다른 함수를 파라미터로 받거나 함수가 새로운 함수를 반환할 수 있다.
- 람다 식을 지원함에 따라 번거로운 준비 코드를 작성하지 않아도 코드 블록을 쉽게 정의하고 여기저기 전달할 수 있다.
- 데이터 클래스는 불변적인 값 객체를 간편하게 만들 수 있는 구문을 제공
- 코틀린 표준 라이브러리는 객체와 컬렉션을 함수형 스타일로 다룰 수 있는 API 제공



다만, 코틀린은 함수형 스타일로 프로그램을 짤 수 있게 지원하지만 강제하지 않는다. 즉, 코틀린으로 코드를 작성할 때는 객체지향과 함수형 접근 방법을 함께 조합해서 가장 적합한 도구를 사용하면 된다.



## 코틀린의 철학

코틀린은 자바와의 상호운용성에 초점을 맞춘 실용적이고 간결하며 안전한 언어라고 설명하는 경우가 자주 있다. 이에 대해 좀 더 자세히 알아보자.

### 실용성

코틀린은 실제 문제를 해결하기 위해 만들어진 실용적인 언어입니다. 수많은 개발자의 피드백이 적용되어 있습니다. 즉, 연구를 위한 언어가 아니라 실무에 적용할 수 있도록 만들어진 언어입니다.

### 간결성

코틀린을 만들면서 프로그래머가 작성하는 코드에서 의미가 없는 부분을 줄이고, 언어가 요구하는 구조를 만족시키기 위해 별 뜻은 없지만 프로그램에 꼭 넣어야 하는 부수적인 요소를 줄이기 위해 많은 노력을 기울였다. 예를 들어, `getter` ,  `setter`  , 생성자 파라미터를 필드에 대입하기 위한 로직 등 자바에 존재하는 여러 가지 번거로운 준비 코드를 묵시적으로 제공합니다.

또한, 코틀린 표준 라이브러리는 다양한 기능을 제공하기 때문에 명시적으로 작성해야만 하는 코드를 대체할 수 있습니다.

### 안정성

일반적으로 프로그래밍 언어가 안전하다는 말은 프로그램에서 발생할 수 있는 오류 중에서 일부 유형ㅇ의 오류를 프로그램 설계가 원천적으로 방지해준다는 뜻이다.